{{ define "header" }}
{{ partial "header.html" . }}
{{ end }}

{{ define "main" }}
<section id="banner" {{if .Params.banner_video}}class="bg-video"{{end}}>

    {{if .Params.banner_image}}
    <div class="banner-image bg-image"><img src="{{.Params.banner_image}}" alt="{{ .Site.Params.Title }} {{ .Title }} Banner Background Image" /></div>
    {{end}}

    {{if .Params.banner_video}}
    <div class="banner-image bg-image video-wrapper">
        <!-- Vimeo -->
        <iframe title="{{ .Params.Site.Title }} Home Banner Background Video" src="https://player.vimeo.com/video/{{.Params.banner_video}}?background=1" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
        <script defer src="https://player.vimeo.com/api/player.js"></script>
    </div>
    {{end}}

    <div class="container">
        <!-- Hero Section -->
        <div class="row">
            <div class="col-12 text-center">
                    
                <h1>{{ .Title }}</h1>
                <p>{{ .Description }}</p>
                <!-- Button trigger modal -->
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                  Pop Up
                </button>

            </div>
        </div>
    
        {{ if .Content}}
        <!-- Content Section -->
        <div class="row mb-5">
            <div class="col-md-12">
                {{ .Content }}
            </div>
        </div>
        {{ end }}
    </div>
</section>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Placeholder Info</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {{ partial "form.html" .}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

{{ partial "logo-carousel.html" . }}

{{ partial "signup.html" .}}

{{ partial "page-sections.html" .}}

<div class="container mt-5">
    <!-- Recent Posts -->
    {{ $posts := where .Site.RegularPages "Type" "posts" }}
    {{ if $posts }}
    <div class="row">
        <div class="col-12 mb-4">
            <h2>Recent Posts</h2>
        </div>
        {{ range first 2 $posts }}
        <div class="col-12 col-md-6 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <h3 class="card-title"><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
                    <p class="card-text text-muted">
                        <small>{{ .Date.Format "January 2, 2006" }}</small>
                    </p>
                    {{ if .Summary }}
                    <p class="card-text">{{ .Summary | plainify | truncate 100 }}</p>
                    {{ end }}
                    <a href="{{ .Permalink }}" class="btn btn-sm btn-outline-primary">Read More</a>
                </div>
            </div>
        </div>
        {{ end }}
    </div>
    {{ end }}
</div>
{{ end }}

{{ define "footer" }}
{{ partial "footer.html" . }}
{{ end }}